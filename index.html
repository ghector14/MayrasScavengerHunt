<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mayra's Adventure</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
            <div class="progress-text" id="progressText">Stop 1 of 6</div>
        </div>

        <!-- Main Content Area -->
        <div class="content-card" id="contentCard">
            <!-- Welcome Screen -->
            <div class="screen active" id="welcomeScreen">
                <h1>Welcome, Mayra</h1>
                <p>Richland scavenger hunt</p>
                <p>You'll solve puzzles and discover 6 special locations. Each puzzle unlocks a clue to the next stop.</p>
                <button class="btn-primary" onclick="startHunt()">Begin</button>
            </div>

            <!-- Puzzle Screen -->
            <div class="screen" id="puzzleScreen">
                <h2 class="stop-title" id="stopTitle">Stop 1</h2>
                <div class="puzzle-content" id="puzzleContent">
                    <!-- Puzzle content will be inserted here -->
                </div>
                <div class="input-group">
                    <input type="text" id="puzzleAnswer" placeholder="Enter your answer..." autocomplete="off">
                    <button class="btn-primary" onclick="checkPuzzleAnswer()">Submit</button>
                </div>
                <div class="feedback" id="puzzleFeedback"></div>
            </div>

            <!-- Clue Screen -->
            <div class="screen" id="hintScreen">
                <h2>Puzzle Solved</h2>
                <div class="hint-box">
                    <h3>Clue for Next Location:</h3>
                    <p class="hint-text" id="hintText"></p>
                    <p class="kiss-requirement">Want help? Give Hector a kiss for a hint. (max 3 or final prize is gone)</p>
                </div>
                <div class="input-group">
                    <input type="text" id="locationGuess" placeholder="Where is this place?" autocomplete="off">
                    <button class="btn-primary" onclick="checkLocation()">Check Answer</button>
                </div>
                <div class="feedback" id="locationFeedback"></div>
            </div>

            <!-- Success Screen -->
            <div class="screen" id="successScreen">
                <h2>Location Found</h2>
                <p>You found it! Now prove you're there with a photo.</p>
                <button class="btn-primary" onclick="showCamera()">Take Photo</button>
            </div>

            <!-- Camera Screen -->
            <div class="screen" id="cameraScreen">
                <h2>Capture Proof</h2>
                <p>Take a photo to show Hector</p>
                <div class="camera-container">
                    <video id="cameraVideo" autoplay playsinline></video>
                    <canvas id="cameraCanvas" style="display: none;"></canvas>
                    <img id="capturedPhoto" style="display: none;" />
                </div>
                <div class="camera-buttons">
                    <button class="btn-primary" id="captureBtn" onclick="capturePhoto()">Capture</button>
                    <button class="btn-primary" id="retakeBtn" onclick="retakePhoto()" style="display: none;">Retake</button>
                </div>
                <div id="verificationSection" style="display: none;">
                    <p class="verification-text">Show Hector the photo. He'll give you a code to continue</p>
                    <div class="input-group">
                        <input type="text" id="verificationCode" placeholder="Enter code..." autocomplete="off">
                        <button class="btn-primary" onclick="verifyCode()">Verify</button>
                    </div>
                    <div class="feedback" id="codeFeedback"></div>
                </div>
            </div>

            <!-- Final Screen -->
            <div class="screen" id="finalScreen">
                <h1>Almost done</h1>
                <p>You've completed all 6 stops of the adventure but...</p>
                <p class="final-message" id="finalMessage"></p>
                <button class="btn-primary" id="finalPhotoBtn" onclick="showFinalCamera()">Take Final Photo</button>
            </div>

            <!-- Final Camera Screen -->
            <div class="screen" id="finalCameraScreen">
                <h2>Final Challenge</h2>
                <p>Capture the sleeping monster</p>
                <div class="camera-container">
                    <video id="finalCameraVideo" autoplay playsinline></video>
                    <canvas id="finalCameraCanvas" style="display: none;"></canvas>
                    <img id="finalCapturedPhoto" style="display: none;" />
                </div>
                <div class="camera-buttons">
                    <button class="btn-primary" id="finalCaptureBtn" onclick="captureFinalPhoto()">Capture</button>
                    <button class="btn-primary" id="finalRetakeBtn" onclick="retakeFinalPhoto()" style="display: none;">Retake</button>
                    <button class="btn-primary" id="finalConfirmBtn" onclick="confirmFinalPhoto()" style="display: none;">Complete Quest</button>
                </div>
            </div>

            <!-- Completion Screen -->
            <div class="screen" id="completionScreen">
                <h1>Adventure Complete</h1>
                <p>Congratulations, Mayra! You've solved every puzzle and captured proof of your journey.</p>
                <p style="color: rgba(255, 255, 255, 0.7); margin-top: 24px;">This adventure was made with love by Hector, hope you enjoyed it.</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>